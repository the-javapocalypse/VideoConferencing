<!--Device Management-->
<div [class.d-none]="!deviceManagementFLAG" class="wrapper">
    <div class="container">
        <div class="pt-5">
            <div class="card ">
                <div class="card-body p-5">
                    <h2 class="card-title text-center">
                        Manage Devices
                    </h2>
                    <div class="row pt-5">
                        <div class="col-12 col-md-3">
                            <h6>
                                Microphone
                            </h6>
                            <!--    AUDIO INPUT CONTROLS START     -->
                            <nb-select placeholder="{{ currentAudioInputDevice  | slice:0:35}}..." fullWidth>
                                <nb-option *ngFor="let audioInput of audioInputDevices"
                                           (click)="updateCurrentAudioInputDevice(audioInput.label, audioInput.deviceId)">
                                    {{audioInput.label | slice:0:35}}...
                                </nb-option>
                            </nb-select>
                            <!--    AUDIO INPUT CONTROLS END     -->
                            <h6 class="pt-md-5">
                                Camera
                            </h6>
                            <!--    VIDEO INPUT CONTROLS START     -->
                            <nb-select placeholder="{{ currentVideoInputDevice  | slice:0:35}}..." fullWidth>
                                <nb-option *ngFor="let videoInput of videoInputDevices"
                                           (click)="updateCurrentVideoInputDevice(videoInput.label, videoInput.deviceId)">
                                    {{videoInput.label | slice:0:35}}...
                                </nb-option>
                            </nb-select>
                            <!--    VIDEO INPUT CONTROLS END     -->
                        </div>

                        <div class="col-md-1 col-0"></div>

                        <div class="col-md-3 col-12">
                            <h6>
                                Speaker
                            </h6>
                            <!--    AUDIO OUTPUT CONTROLS START     -->
                            <nb-select placeholder="{{ currentAudioOutputDevice  | slice:0:35}}..." fullWidth>
                                <nb-option *ngFor="let audioOutput of audioOutputDevices"
                                           (click)="updateCurrentAudioOutputDevice(audioOutput.label, audioOutput.deviceId)">
                                    {{audioOutput.label | slice:0:35}}...
                                </nb-option>
                            </nb-select>
                            <!--    AUDIO OUTPUT CONTROLS END     -->
                            <h6 class="pt-md-5">
                                Video Quality
                            </h6>
                            <!--    VIDEO QUALITY CONTROLS START     -->
                            <nb-select placeholder="{{videoQualityPreview}}" fullWidth>
                                <nb-option (click)="updateVideoQualityPreview('360p')">
                                    360p
                                </nb-option>
                                <nb-option (click)="updateVideoQualityPreview('540p')">
                                    540p
                                </nb-option>
                                <nb-option (click)="updateVideoQualityPreview('720p')">
                                    720p
                                </nb-option>
                            </nb-select>
                            <!--    VIDEO QUALITY CONTROLS END     -->
                        </div>

                        <div class="col-md-1 col-0"></div>

                        <div class="col-md-4 col-0">
                            <div class="pb-md-2">
                                <h6 class="progress-badge"> Microphone Test </h6>
                                <!--    AUDIO PREVIEW START     -->
                                <nb-progress-bar [value]="audioInputPreview"></nb-progress-bar>
                                <!--    AUDIO PREVIEW END     -->
                            </div>
                            <!--    TEST SPEAKER START     -->
                            <button nbButton status="basic" id='buttonTestSound'
                                    (click)="playAudio()" [disabled]="speakerTestFlag">
                                Test Speakers
                            </button>
                            <video id="video-preview" class="w-100 h-100 p-md-3"></video>
                            <!--    TEST SPEAKER END     -->
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-8 col-12 pt-5 pt-md-0">
                            <button nbButton hero fullWidth (click)="joinMeeting()">
                                Join
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--Device Management END-->

<!--In Meeting Screen-->
<div [class.d-none]="deviceManagementFLAG" class="container-fluid m-0 p-0">
    <div class="row">
        <!--  Meeting Info (Left Div) Start  -->
        <div class="col-md-4">
            <nb-card accent="primary" class="min-vh-75">
                <nb-card-header>
                    {{meetingName}}
                </nb-card-header>
                <nb-card-body>
                    <!--   Device Toggle Control Start     -->
                    <nb-actions fullWidth>
                        <!--       Audio Mute Handler Start      -->
                        <nb-action>
                            <nb-icon icon='{{audioInputUnmute ? "mic-outline" : "mic-off-outline"}}'
                                     (click)="muteHandler()"
                                     nbTooltip='{{audioInputUnmute ? "Mute Mic" : "Unmute Mic"}}'
                                     status='{{audioInputUnmute ? "primary" : "default"}}'>
                            </nb-icon>
                        </nb-action>
                        <!--       Audio Mute Handler End      -->
                        <!--       Video Input On Handler Start      -->
                        <nb-action>
                            <nb-icon icon='{{videoInput ? "video-outline" : "video-off-outline"}}'
                                     (click)="videoInputHandler()"
                                     nbTooltip='{{videoInput ? "Stop sharing video" : "Start sharing video"}}'
                                     status='{{videoInput ? "primary" : "default"}}'>
                            </nb-icon>
                        </nb-action>
                        <!--       Video Input On Handler End      -->
                        <!--       Screen Share Handler Start      -->
                        <nb-action>
                            <nb-icon icon='{{shareScreen ? "close-square-outline" : "cast-outline"}}'
                                     (click)="shareScreenInputHandler()"
                                     nbTooltip='{{shareScreen ? "Stop sharing screen" : "Start sharing screen"}}'
                                     status='{{shareScreen ? "primary" : "default"}}'>
                            </nb-icon>
                        </nb-action>
                        <!--       Screen Share Handler End      -->
                        <!--       Leave meeting handler start     -->
                        <nb-action>
                            <nb-icon status="danger" icon="phone-outline"
                                     nbTooltip="Leave meeting" nbTooltipStatus="danger">
                            </nb-icon>
                        </nb-action>
                        <!--       Leave meeting handler end      -->
                    </nb-actions>
                    <!--   Device Toggle Control End     -->
                    <hr>
                    <!--   Tabset Start  -->
                    <nb-tabset fullWidth>
                        <!--   Attendees List Start  -->
                        <nb-tab tabTitle="Attendees" tabIcon="person-outline" class="p-0" responsive>
                            <nb-list class="attendee-card-height">
                                <nb-list-item *ngFor="let data of rosterData">
                                    <div class="row no-gutters p-0 m-0 py-1">
                                        <!--   Attendee name and avatar  -->
                                        <div class="col-md-8">
                                            <nb-user size="medium"
                                                     name="{{roster[data].name}}"
                                                     title="Attendee"
                                                     showTitle=false>
                                            </nb-user>
                                        </div>
                                        <!--   Attendee device indicators  -->
                                        <div class="col-md-4 pt-2 text-right">
                                            <!--   Speaking indicator  -->
                                            <nb-icon status="success" icon="volume-up-outline"
                                                     nbTooltip="{{roster[data].name}} is speaking"
                                                     nbTooltipStatus="success"
                                                     [class.d-none]="roster[data].muted || !roster[data].active">
                                            </nb-icon>
                                            <!--   Mute indicator  -->
                                            <nb-icon status="danger" icon="mic-off-outline"
                                                     nbTooltip="{{roster[data].name}}'s mic is muted"
                                                     nbTooltipStatus="danger"
                                                     [class.d-none]="!roster[data].muted">
                                            </nb-icon>
                                            <!--   Signals indicator  -->
                                            <nb-icon icon="wifi-outline"
                                                     status="{{roster[data].signalStrength < 1 ? (roster[data].signalStrength === 0 ? 'danger' : 'warning') : 'success'}}"
                                                     nbTooltip="Strong connection" nbTooltipStatus="success">
                                            </nb-icon>
                                        </div>
                                    </div>
                                </nb-list-item>
                            </nb-list>
                        </nb-tab>
                        <!--   Attendees List Start  -->
                        <nb-tab tabTitle="Chat" tabIcon="message-circle-outline" responsive>
                            <p>List of <strong>orders</strong>.</p>
                        </nb-tab>
                    </nb-tabset>
                    <!--   Tabset Start  -->
                </nb-card-body>
            </nb-card>
        </div>
        <!--  Meeting Info (Left Div) End  -->
    </div>
</div>
<!--In Meeting Screen End-->
<audio id="meeting-audio" style="display:none"></audio>





<!--<div [class.d-none]="deviceManagementFLAG" class="wrapper container-fluid m-0 p-0 m-h-100vh">-->
<!--  <div class="row no-gutters">-->
<!--    <div class="col-md-3">-->
<!--      <div class="card m-h-100vh">-->
<!--        <div class="container">-->
<!--          &lt;!&ndash;       Meeting Name       &ndash;&gt;-->
<!--          <h1 class="display-3 pt-md-3 pt-0 pb-md-0 mb-md-0">-->
<!--            {{meetingName}}-->
<!--          </h1>-->
<!--          <hr class="line-success">-->
<!--       Audio Mute Handler Start-->
<!--          <button class="btn btn-primary btn-fab btn-icon btn-round" (click)="muteHandler()">-->
<!--            <i class="fas fa-microphone" [class.d-none]="!audioInputUnmute"></i>-->
<!--            <i class="fas fa-microphone-slash" [class.d-none]="audioInputUnmute"></i>-->
<!--          </button>-->
<!--       Audio Mute Handler End-->
<!--       Video Input On Handler Start-->
<!--          <button class="btn btn-primary btn-fab btn-icon btn-round" (click)="videoInputHandler()">-->
<!--            <i class="fas fa-video" [class.d-none]="!videoInput"></i>-->
<!--            <i class="fas fa-video-slash" [class.d-none]="videoInput"></i>-->
<!--          </button>-->
<!--        </div>-->
<!--       Video Input On Handler End-->
<!--        <tabset class="nav-tabs-primary">-->
<!--       Attendees List Tab Start-->
<!--          <tab>-->
<!--            <ng-template tabHeading>-->
<!--              <i class="tim-icons icon-single-02"></i>Attendees-->
<!--            </ng-template>-->



<!--            <div *ngFor="let data of rosterData">-->
<!--              <div class="pt-md-1 pb-md-1">-->
<!--                <div class="row no-gutters">-->
<!--                  <div class="col-md-9">-->
<!--                    <img alt="Raised circle image"-->
<!--                         class="img-fluid rounded-circle shadow-lg attendeeAvatar"-->
<!--                         src='https://ui-avatars.com/api/?name={{roster[data].name}}&rounded=true&background=000&color=fff'>-->
<!--                    <h6 class="pt-md-3 pl-md-3 controls-inline">-->
<!--                      {{roster[data].name}}-->
<!--                    </h6>-->
<!--                  </div>-->
<!--                  <div class="col-md-3">-->
<!--                    <div class="pt-md-3">-->
<!--    Speaking Indicator-->
<!--                      <i class="fas fa-microphone text-green" [class.d-none]="!roster[data].active" [class.d-none]="roster[data].muted"></i>-->
<!--                                                <span [class.d-none]="!roster[data].active" class="badge badge-pill badge-info">-->
<!--                                                    speaking-->
<!--                                                </span>-->
<!--    Signal Indicator-->
<!--                      <i class="tim-icons icon-wifi"-->
<!--                         [class.text-red]="roster[data].signalStrength < 1"-->
<!--                         [class.text-green]="roster[data].signalStrength > 1"></i>-->
<!--                      &lt;!&ndash;    Mute Indicator    &ndash;&gt;-->
<!--                      <i class="fas fa-microphone-slash text-red" [class.d-none]="!roster[data].muted"></i>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                </div>-->

<!--              </div>-->
<!--            </div>-->
<!--          </tab>-->
<!--          &lt;!&ndash;       Attendees List Tab End      &ndash;&gt;-->

<!--          <tab>-->
<!--            <ng-template tabHeading>-->
<!--              <i class="tim-icons icon-chat-33"> </i> Chat-->
<!--            </ng-template>-->
<!--            <p>-->

<!--              Dramatically visualize customer directed convergence-->
<!--              without revolutionary ROI.-->
<!--            </p>-->
<!--          </tab>-->
<!--        </tabset>-->
<!--      </div>-->
<!--    </div>-->

<!--    Meeting Audio-->
<!--  </div>-->
<!--</div>-->
